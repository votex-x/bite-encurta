<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Encurtador Simples</title>
    <style>
        body { font-family: sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; }
        h1 { text-align: center; }
        form { display: flex; flex-direction: column; gap: 10px; padding: 20px; border: 1px solid #ccc; border-radius: 5px; }
        input[type="url"], input[type="text"] { padding: 10px; border: 1px solid #ddd; border-radius: 3px; }
        input[type="submit"] { padding: 10px; background-color: #007bff; color: white; border: none; border-radius: 3px; cursor: pointer; }
        .message { padding: 15px; margin-top: 20px; border-radius: 5px; }
        .success { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .error { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .result a { word-break: break-all; }
    </style>
</head>
<body>
    <h1>Encurtador de Links Simples</h1>

    {% if error %}
        <div class="message error">{{ error }}</div>
    {% endif %}

    {% if short_url %}
        <div class="message success result">
            <p><strong>Link Encurtado com Sucesso!</strong></p>
            <p>URL Curta: <a href="{{ short_url }}" target="_blank">{{ short_url }}</a></p>
            <p>Estatísticas: <a href="{{ stats_url }}" target="_blank">{{ stats_url }}</a></p>
        </div>
    {% endif %}

    <form action="/shorten" method="post">
        <label for="original_url">URL Original (Obrigatório):</label>
        <input type="url" id="original_url" name="original_url" value="{{ original_url if original_url else '' }}" required placeholder="https://exemplo.com.br/sua-url-longa">

        <label for="custom_alias">Alias Personalizado (Opcional - Requer Token):</label>
        <input type="text" id="custom_alias" name="custom_alias" value="{{ custom_alias if custom_alias else '' }}" placeholder="meunegocio (web.sakibites.space/meunegocio)">

        <label for="token">Token Premium (Opcional - Para Alias Personalizado):</label>
        <input type="text" id="token" name="token" placeholder="Cole seu token de uso único aqui">

        <input type="submit" value="Encurtar Link">
    </form>

    <p style="margin-top: 20px; font-size: 0.9em; text-align: center;">
        * Se usar Alias Personalizado, você deve fornecer um Token Premium.
    </p>
</body>
</html>
